<html>
    <head>
        <title>Servlet教程</title>
        <style type="text/css">
            body {
                background-color: #d2b48c;
                margin-left: 10%;
                margin-right: 10%;
                border: 2px dotted black;
                padding: 10px 10px 10px 10px;
                font-family: sans-serif;
            }
        </style>

        <script>
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "//hm.baidu.com/hm.js?12f9141c4785ae802a266b3815f53eb6";
                var s = document.getElementsByTagName("script")[0]; 
                s.parentNode.insertBefore(hm, s);
            })();
        </script>

    </head>
    <body>
        <p>
            教程链接：<a href="http://www.runoob.com/servlet/servlet-tutorial.html"> http://www.runoob.com/servlet/servlet-tutorial.html </a>
        </p>
        <h1> 1. Servlet简介 <h1>
        <h2> 1.1 Servlet是什么？ </h2>
        <p> Java Servlet 是运行在 Web 服务器或应用服务器上的程序，它是作为来自 Web 浏览器或其他 HTTP 客户端的请求和 HTTP 服务器上的数据库或应用程序之间的中间层。</p>
        <p> 使用 Servlet，您可以收集来自网页表单的用户输入，呈现来自数据库或者其他源的记录，还可以动态创建网页。</p>
        <h2> 1.2 Servlet架构 </h2>
        <ul>
            <li> Web Browser通过HTTP协议与HTTP Server交互。 </li>
            <li> HTTP Server与Servlets Program交互。 </li>
            <li> Servlets Program与后端服务器（如Database）交互。</li>
        </ul>
        <h2> 1.3 Servlet任务 </h2>
        <p> Servlet 执行以下主要任务：</p>
        <ul>
            <li> 读取客户端（浏览器）发送的显式的数据。这包括网页上的 HTML 表单，或者也可以是来自 applet 或自定义的 HTTP 客户端程序的表单。</li>
            <li> 读取客户端（浏览器）发送的隐式的 HTTP 请求数据。这包括 cookies、媒体类型和浏览器能理解的压缩格式等等。</li>
            <li> 处理数据并生成结果。这个过程可能需要访问数据库，执行 RMI 或 CORBA 调用，调用 Web 服务，或者直接计算得出对应的响应。</li>
            <li> 发送显式的数据（即文档）到客户端（浏览器）。该文档的格式可以是多种多样的，包括文本文件（HTML 或 XML）、二进制文件（GIF 图像）、Excel 等。</li>
            <li> 发送隐式的 HTTP 响应到客户端（浏览器）。这包括告诉浏览器或其他客户端被返回的文档类型（例如 HTML），设置 cookies 和缓存参数，以及其他类似的任务。</li>
        </ul>
        <h2> Servlet包 </h2>
        <p> Java Servlet 是运行在带有支持 Java Servlet 规范的解释器的 web 服务器上的 Java 类。</p>
        <p> Servlet 可以使用 javax.servlet 和 javax.servlet.http 包创建，它是 Java 企业版的标准组成部分，Java 企业版是支持大型开发项目的 Java 类库的扩展版本。</p>
        <h1> 2. Servlet环境设置 </h1>
        <h2> 2.1 设置Java开发工具包(Java Development Kit) </h2>
        <h2> 2.2 设置Web服务器：Tomcat </h2>
        <p> Apache Tomcat 是一款 Java Servlet 和 JavaServer Pages 技术的开源软件实现，可以作为测试 Servlet 的独立服务器，而且可以集成到 Apache Web 服务器。 </p>
        <h2> 2.3 设置CLASSPATH </h2>
        <h1> 3. Servlet生命周期 </h1>
        <p> Servlet 生命周期可被定义为从创建直到毁灭的整个过程：</p>
        <ul>
            <li> Servlet 通过调用 init () 方法进行初始化。 </li>
            <li> Servlet 调用 service() 方法来处理客户端的请求。</li>
            <li> Servlet 通过调用 destroy() 方法终止（结束）。</li>
            <li> 最后，Servlet 是由 JVM 的垃圾回收器进行垃圾回收的。</li>
        </ul>
        <h2> 3.1 init()方法 </h2>
        <p> init 方法被设计成只调用一次。它在第一次创建 Servlet 时被调用，在后续每次用户请求时不再调用。</p>
        <p> Servlet 创建于用户第一次调用对应于该 Servlet 的 URL 时，但是您也可以指定 Servlet 在服务器第一次启动时被加载。</p>
        <p> 当用户调用一个 Servlet 时，就会创建一个 Servlet 实例，每一个用户请求都会产生一个新的线程，适当的时候移交给 doGet 或 doPost 方法。init() 方法简单地创建或加载一些数据，这些数据将被用于 Servlet 的整个生命周期。</p>
        <blockquote>
            public void init() throws ServletException { <br>
            <blockquote>
                //初始化代码...
            </blockquote>
            }
        </blockquote>
        <h2> 3.2 service()方法 </h2>
        <p> service() 方法是执行实际任务的主要方法。Servlet 容器（即 Web 服务器）调用 service() 方法来处理来自客户端（浏览器）的请求，并把格式化的响应写回给客户端。</p>
        <p> 每次服务器接收到一个 Servlet 请求时，服务器会产生一个新的线程并调用服务。service() 方法检查 HTTP 请求类型（GET、POST、PUT、DELETE 等），并在适当的时候调用 doGet、doPost、doPut，doDelete 等方法。</p>
        <blockquote>
            public void service(ServletRequest request, ServletResponse response) throws ServletException, IOException { <br>
            }
        </blockquote>
        <p> service() 方法由容器调用，service 方法在适当的时候调用 doGet、doPost、doPut、doDelete 等方法。所以，您不用对 service() 方法做任何动作，您只需要根据来自客户端的请求类型来重载 doGet() 或 doPost() 即可。 </p>
        <h2> 3.3 doGet()方法 </h2>
        <p> GET 请求来自于一个 URL 的正常请求，或者来自于一个未指定 METHOD 的 HTML 表单，它由 doGet() 方法处理。</p>
       <blockquote>
            public void doGet(ServletRequest request, ServletResponse response) throws ServletException, IOException { <br>
            <blockquote>
                //Servlet 代码
            </blockquote>
            }
        </blockquote>
        <h2> 3.4 doPost()方法 </h2>
        <p> POST 请求来自于一个特别指定了 METHOD 为 POST 的 HTML 表单，它由 doPost() 方法处理。</p>
        <blockquote>
            public void doPost(ServletRequest request, ServletResponse response) throws ServletException, IOException { <br>
            <blockquote>
                //Servlet 代码
            </blockquote>
            }
        </blockquote>
        <h2> 3.5 destroy()方法 </h2>
        <p> destroy() 方法只会被调用一次，在 Servlet 生命周期结束时被调用。destroy() 方法可以让您的 Servlet 关闭数据库连接、停止后台线程、把 Cookie 列表或点击计数器写入到磁盘，并执行其他类似的清理活动。</p>
        <p> 在调用 destroy() 方法之后，servlet 对象被标记为垃圾回收。</p>
        <blockquote>
            public void destroy() { <br>
            <blockquote>
                //终止化代码...
            </blockquote>
            }
        </blockquote>
        <h2> 架构图 </h2>
        <ul>
            <li> 第一个到达服务器的 HTTP 请求被委派到 Servlet 容器。</li>
            <li> Servlet 容器在调用 service() 方法之前加载 Servlet。</li>
            <li> 然后 Servlet 容器处理由多个线程产生的多个请求，每个线程执行一个单一的 Servlet 实例的 service() 方法。</li> 
        </ul>
        <h1> 4. Servlet实例 </h1>
        <p> Web 应用程序开发人员通常编写 Servlet 来扩展 javax.servlet.http.HttpServlet，并实现 Servlet 接口的抽象类专门用来处理 HTTP 请求。 </p>
        <h2> 4.1 Hello World示例代码 </h2>
        <h2> 4.2 编译Servlet </h2>
        <h2> 4.3 Servlet部署 </h2>
        <h1> 5. Servlet表单数据 </h1>
        <h2> 5.1 GET方法 </h2>
        <p> GET 方法有大小限制：请求字符串中最多只能有 1024 个字符。</p>
        <h2> 5.2 POST方法 </h2>
        <p> POST 方法打包信息的方式与 GET 方法基本相同，但是 POST 方法不是把信息作为 URL 中 ? 字符后的文本字符串进行发送，而是把这些信息作为一个单独的消息。消息以标准输出的形式传到后台程序，您可以解析和使用这些标准输出。</p>
        <h2> 5.3 使用Servlet读取表单数据 </h2>
        <ul>
            <li> getParameter()：您可以调用 request.getParameter() 方法来获取表单参数的值。</li>
            <li> getParameterValues()：如果参数出现一次以上，则调用该方法，并返回多个值，例如复选框。</li>
            <li> getParameterNames()：如果您想要得到当前请求中的所有参数的完整列表，则调用该方法。</li>
        </ul>
        <h2> 5.4 使用URL的GET方法实例 </h2>
        <h2> 5.5 使用表单的GET方法实例 </h2>
        <h2> 5.6 使用表单的POST方法实例 </h2>
        <h2> 5.7 将复选框数据传递到 Servlet 程序 </h2>
        <h2> 5.8 读取所有的表单参数 </h2>
        <p> 使用 HttpServletRequest 的 getParameterNames() 方法读取所有可用的表单参数。该方法返回一个枚举，其中包含未指定顺序的参数名。</p>
        <p> 使用 hasMoreElements() 方法来确定何时停止，使用 nextElement() 方法来获取每个参数的名称。</p>
        <h1> 6. Servlet客户端HTTP请求 </h1>
        <p> 当浏览器请求网页时，它会向 Web 服务器发送特定信息，这些信息不能被直接读取，因为这些信息是作为 HTTP 请求的头的一部分进行传输的。 </p>
        <h2> 6.1 读取HTTP头的方法 </h2>
        <p> 通过HttpServletRequest对象的方法读取HTTP头。</p>
        <h2> 6.2 HTTP Header请求实例 </h2>
        <p> 使用 HttpServletRequest 的 getHeaderNames() 方法读取 HTTP 头信息。该方法返回一个枚举，包含与当前的 HTTP 请求相关的头信息。</p>
        <h1> 7. Servlet服务器HTTP响应 </h1>
        <p> 当一个 Web 服务器响应一个 HTTP 请求时，响应通常包括一个状态行、一些响应报头、一个空行和文档。</p>
        <p> 状态行包括HTTP版本（如HTTP/1.1）、一个状态码（如200）和一个对应于状态码的短消息（如OK）。</p>
        <h2> 7.1 设置HTTP响应报头的方法 </h2>
        <p> 这些方法通过HttpServletResponse对象在Servlet程序中设置HTTP响应报头。</p>
        <h2> 7.2 HTTP Header响应实例 </h2>
    </body>
</html>